<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main</title>
  </head>
  <body>
    <h1>메인 페이지</h1>

    <!-- 로그인 하면 'login 페이지로 이동이' 안보이도록 함 -->
    <button id="loginButton" onclick="location.href='HTML/login.html'">
      Login 페이지로 이동
    </button>

    <button onclick="location.href='/HTML/change_passwd.html'">
      Passwd 재설정
    </button>

    <script>
      function checkLoginStatus() {
        fetch("/check-login")
          .then((response) => response.json())
          .then((data) => {
            if (data.loggedIn) {
              // 로그인 상태인 경우 'login 페이지로 이동' 버튼 숨김
              document.getElementById("loginButton").style.display = "none";
            }
          })
          .catch((error) => {
            console.error("Error checking login status:", error);
          });
      }

      // 로그인 상태 확인
      checkLoginStatus();
    </script>
  </body>
</html>
